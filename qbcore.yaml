$engine: 3
$onesync: on
name: QBCore Framework
version: 2.2.4
author: JericoFx & Kakarot & Hamy
description: An advanced FiveM RP framework including jobs, gangs, housing & more!

tasks:
  #  Download Base Files
  - action: download_github
    src: https://github.com/qbcore-framework/txAdminRecipe
    ref: main
    dest: ./tmp/qbcore

  - action: move_path
    src: ./tmp/qbcore/server.cfg
    dest: ./server.cfg

  - action: move_path
    src: ./tmp/qbcore/myLogo.png
    dest: ./myLogo.png

  # Prepare Database
  - action: connect_database
  - action: query_database
    file: ./tmp/qbcore/qbcore.sql


  # STANDALONE
  - action: download_github
    src: https://github.com/citizenfx/cfx-server-data
    subpath: resources
    dest: ./resources/[cfx-default]

  - action: download_file
    path: ./tmp/files/oxmysql.zip
    url: https://github.com/overextended/oxmysql/releases/download/v2.5.4/oxmysql.zip
  - action: unzip
    dest: ./resources/[standalone]
    src: ./tmp/files/oxmysql.zip

  - action: download_file
    path: ./tmp/menuv.zip
    url: https://github.com/ThymonA/menuv/releases/download/v1.4.1/menuv_v1.4.1.zip
  - action: unzip
    dest: ./resources/[standalone]/menuv
    src: ./tmp/menuv.zip

  - action: download_github
    dest: ./resources/[standalone]/bob74_ipl
    ref: master
    src: https://github.com/qbcore-framework/bob74_ipl

  - action: download_github
    dest: ./resources/[ls]/ls-safecracker
    ref: main
    src: https://github.com/qbcore-framework/safecracker

  - action: download_github
    dest: ./resources/[standalone]/screenshot-basic
    ref: master
    src: https://github.com/citizenfx/screenshot-basic

  - action: download_github
    dest: ./resources/[ls]/ls-progressbar
    ref: main
    src: https://github.com/Project-Sloth/progressbar

  - action: download_github
    dest: ./resources/[ls]/ls-interactsound
    ref: master
    src: https://github.com/qbcore-framework/interact-sound

  - action: download_github
    dest: ./resources/[ls]/ls-mhack
    ref: main
    src: https://github.com/qbcore-framework/mhacking

  - action: download_github
    dest: ./resources/[ls]/ls-queue
    ref: master
    src: https://github.com/qbcore-framework/connectqueue

  - action: download_github
    dest: ./resources/[ls]/ls-emotes
    ref: master
    src: https://github.com/qbcore-framework/dpemotes

  - action: download_github
    dest: ./resources/[standalone]/PolyZone
    ref: master
    src: https://github.com/qbcore-framework/PolyZone

  - action: download_github
    dest: ./resources/[ls]/[ox]/ox_fuel
    ref: master
    src: https://github.com/overextended/ox_fuel

  - action: download_github
    dest: ./resources/[ls]/[ox]/ox_lib
    ref: master
    src: https://github.com/overextended/ox_lib

  - action: download_github
    dest: ./resources/[ls]/[ox]/ox_target
    ref: master
    src: https://github.com/overextended/ox_target
  
  - action: download_github
    dest: ./resources/[ls]/[ox]/ox_inventory
    ref: master
    src: https://github.com/overextended/ox_inventory

    # VOICE
  - action: download_github
    dest: ./resources/[voice]/pma-voice
    ref: main
    src: https://github.com/AvarianKnight/pma-voice

  - action: download_github
    dest: ./resources/[voice]/ls-radio
    ref: main
    src: https://github.com/qbcore-framework/qb-radio

    # MAPS
  - action: download_github
    dest: ./resources/[defaultmaps]/hospital_map
    ref: main
    src: https://github.com/qbcore-framework/hospital_map

  - action: download_github
    dest: ./resources/[defaultmaps]/dealer_map
    ref: main
    src: https://github.com/qbcore-framework/dealer_map

  - action: download_github
    dest: ./resources/[defaultmaps]/[prison_map]
    ref: main
    src: https://github.com/qbcore-framework/prison_map

  # Downloading QBCore resources
  - action: download_github
    dest: ./resources/[ls]/ls-core
    ref: main
    src: https://github.com/qbcore-framework/qb-core

  - action: download_github
    dest: ./resources/[ls]/ls-adminmenu
    ref: main
    src: https://github.com/qbcore-framework/qb-adminmenu

  - action: download_github
    dest: ./resources/[ls]/ls-multicharacter
    ref: main
    src: https://github.com/qbcore-framework/qb-multicharacter

  - action: waste_time # prevent github throttling
    seconds: 10

  - action: download_github
    dest: ./resources/[ls]/ls-vehiclesales
    ref: main
    src: https://github.com/qbcore-framework/qb-vehiclesales

  - action: download_github
    dest: ./resources/[ls]/ls-vehicleshop
    ref: main
    src: https://github.com/qbcore-framework/qb-vehicleshop

  - action: download_github
    dest: ./resources/[ls]/ls-prison
    ref: main
    src: https://github.com/qbcore-framework/qb-prison

  - action: download_github
    dest: ./resources/[ls]/[pe]/pefcl
    ref: main
    src: https://github.com/project-error/pefcl
    
  - action: download_github
    dest: ./resources/[ls]/[pe]/ls-pefcl
    ref: main
    src: https://github.com/project-error/qb-pefcl

  - action: download_github
    dest: ./resources/[ls]/[pe]/npwd
    ref: main
    src: https://github.com/project-error/npwd
  
  - action: download_github
    dest: ./resources/[ls]/[pe]/ls-npwd
    ref: main
    src: https://github.com/qbcore-framework/qb-npwd

  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-hud
    ref: main
    src: https://github.com/Project-Sloth/ps-hud
  
  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-ui
    ref: main
    src: https://github.com/Project-Sloth/ps-ui

  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-mdt
    ref: main
    src: https://github.com/Project-Sloth/ps-mdt

  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-dispatch
    ref: main
    src: https://github.com/Project-Sloth/ps-dispatch

  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-drugprocessing
    ref: main
    src: https://github.com/Project-Sloth/ps-drugprocessing

  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-buffs
    ref: main
    src: https://github.com/Project-Sloth/ps-buffs

  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-signrobbery
    ref: main
    src: https://github.com/Project-Sloth/ps-signrobbery

  - action: download_github
    dest: ./resources/[ls]/[ps]/ls-walkingstyle 
    ref: main
    src: https://github.com/Project-Sloth/ps-walkingstyle 
    

  - action: download_github
    dest: ./resources/[ls]/qb-management
    ref: main
    src: https://github.com/qbcore-framework/qb-management

  - action: download_github
    dest: ./resources/[ls]/ls-emergencyservices
    ref: main
    src: https://github.com/qbcore-framework/qb-ambulancejob

  - action: download_github
    dest: ./resources/[ls]/ls-vehiclefailure
    ref: main
    src: https://github.com/qbcore-framework/qb-vehiclefailure

  - action: waste_time # prevent github throttling
    seconds: 10

  - action: download_github
    dest: ./resources/[ls]/ls-weathersync
    ref: main
    src: https://github.com/qbcore-framework/qb-weathersync

  - action: download_github
    dest: ./resources/[ls]/ls-policeservices
    ref: main
    src: https://github.com/qbcore-framework/qb-policejob

  - action: download_github
    dest: ./resources/[ls]/ls-apartments
    ref: main
    src: https://github.com/qbcore-framework/qb-apartments

  - action: download_github
    dest: ./resources/[ls]/ls-vehiclekeys
    ref: main
    src: https://github.com/qbcore-framework/qb-vehiclekeys

  - action: download_github
    dest: ./resources/[ls]/ls-vehicleservices
    ref: main
    src: https://github.com/qbcore-framework/qb-mechanicjob

  - action: download_github
    dest: ./resources/[ls]/ls-tune
    ref: main
    src: https://github.com/qbcore-framework/qb-tunerchip

  - action: download_github
    dest: ./resources/[ls]/ls-spawn
    ref: main
    src: https://github.com/qbcore-framework/qb-spawn

  - action: download_github
    dest: ./resources/[ls]/ls-skillbar
    ref: main
    src: https://github.com/qbcore-framework/qb-skillbar

  - action: download_github
    dest: ./resources/[ls]/ls-pico
    ref: main
    src: https://github.com/qbcore-framework/qb-smallresources

  - action: download_github
    dest: ./resources/[ls]/qb-cityservices
    ref: main
    src: https://github.com/qbcore-framework/qb-cityhall

  - action: waste_time # prevent github throttling
    seconds: 10

  - action: download_github
    dest: ./resources/[ls]/ls-minigame
    ref: main
    src: https://github.com/qbcore-framework/qb-keyminigame

  - action: download_github
    dest: ./resources/[ls]/qb-commandbinds
    ref: main
    src: https://github.com/qbcore-framework/qb-commandbinding

  - action: download_github
    dest: ./resources/[ls]/ls-appearance
    ref: main
    src: https://github.com/iLLeniumStudios/illenium-appearance

  - action: download_github
    dest: ./resources/[ls]/ls-lockpick
    ref: main
    src: https://github.com/qbcore-framework/qb-lockpick

  - action: download_github
    dest: ./resources/[ls]/ls-interior
    ref: main
    src: https://github.com/qbcore-framework/qb-interior

  - action: download_github
    dest: ./resources/[ls]/ls-menu
    ref: main
    src: https://github.com/qbcore-framework/qb-menu

  - action: download_github
    dest: ./resources/[ls]/ls-input
    ref: main
    src: https://github.com/qbcore-framework/qb-input

  - action: download_github
    dest: ./resources/[ls]/ls-loading
    ref: main
    src: https://github.com/qbcore-framework/qb-loading

  # Clean up
  - action: remove_path
    path: ./tmp
